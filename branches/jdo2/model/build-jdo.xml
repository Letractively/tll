<!--
The following properties must be present:
 
 - enhancer.classpath
 - jdo.files [relative to classpath root] (E.g.: 'META-INF/package.jdo')
 
 enhancer.classpath must include:
				datanucleus-enhancer.jar
        datanucleus-core.jar
        asm.jar
        jdo2-api.jar
        log4j.jar (optional)
        your classes
        your meta-data files 
-->
<project name="jdo-enhance" basedir=".">
	
	<!-- the classpath to enhance -->
	<path id="path.enhancer.classpath">
		<pathelement path="${enhancer.classpath}" />
	</path>

	<target name="enhance">
		<echo message="JDO Enhancing files [jdo.files: ${jdo.files}]" />
		<echo message="  classpath: ${enhancer.classpath}" />
		<java classname="org.datanucleus.enhancer.DataNucleusEnhancer" fork="true">
			<classpath refid="path.enhancer.classpath" />
			<arg value="-api"/>
			<arg value="JDO"/>
			<arg value="-enhancerName"/>
			<arg value="ASM"/>
			<arg value="-v"/>
			<arg value="${jdo.files}"/>
		</java>

	</target>

</project>