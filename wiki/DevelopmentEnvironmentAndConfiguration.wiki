#labels Featured,Phase-Requirements
Lists the necessary local environment and IDE settings for building and deploying _tll_ projects.

=Required Software=
The following software is required:
|| *Name* || *Version* || *Notes* ||
|| [http://java.sun.com/javase/downloads/index.jsp jdk] || 1.6.0_14+ || ||
|| [http://www.eclipse.org/ eclipse] || 3.5.0+|| JEE version ||
|| [http://maven.apache.org/ maven] || 2.2.1+|| ||
|| [http://ant.apache.org/ ant] || 1.7.1+ || Not strictly necessary as maven maintains its own instance. ||
|| [http://groovy.codehaus.org/ groovy] || 1.6+ || Use the windows installer download is possible. ||
|| [http://subversion.tigris.org/ subversion client] || 1.6.0+ || Preferred windows client: [http://www.sliksvn.com/en/download sliksvn] ||
|| [http://code.google.com/p/google-web-toolkit/ GWT] || 1.6.4+ || ||
|| [http://code.google.com/p/gwt-log/downloads/list gwt-log] || 2.6.2+ || ||

=environment=
  * Create the tll root directory in a desired location.  This will be the root dir of all tll source code.

  * Ensure the following environment variables exist:
|| *Name* || *Description* ||
|| JAVA_HOME || Points to the root *JDK* install dir. ||
|| JDK_HOME || Alias for {{{JAVA_HOME}}} used by, for example, the GWT build routine. ||
|| SVN_HOME || Points to the root svn client install dir. ||
|| M2_HOME || Points to the maven install dir. ||
|| M2_REPO || Points to your local maven repository dir. ||
|| GROOVY_HOME || Points to the root groovy install dir. ||
|| ANT_HOME || Points to the root Ant install dir. ||
|| TLL_ROOT || Points to the root tll dir. ||
|| GWT_HOME || Points to the root GWT _install_ dir. (Used for building GWT from source.) ||
|| GWT_TOOLS || Points to the root GWT Tools dir. (Used for building GWT from source.)||

  * Add the following paths to the system path:
 {{{
{JAVA_HOME}/bin
{GROOVY_HOME}/bin
{ANT_HOME}/bin
{SVN_HOME}/bin
{M2_HOME}/bin
{TLL_ROOT}/build-tools/bin
}}}

 for Windows:
  {{{
%JAVA_HOME%\bin;%GROOVY_HOME%\bin;%ANT_HOME%\bin;%SVN_HOME%\bin;%M2_HOME%\bin;%TLL_ROOT%\build-tools\bin;
}}}

  * Append these global ignores to the installed SVN config file:
 {{{
global-ignores = war debug.bat shell.bat .metadata build classes bin bin-groovy dist Desktop.ini *.log *.tmp target .metadata .gwt-tmp test-output tomcat Constants.properties config-local.properties
}}}

  * Create a user-scoped maven {{{settings.xml}}} file under the {{{.m2}}} dir corresponding to the local maven install.  Here is the prototype:
 {{{
<settings xmlns="http://maven.apache.org/SETTINGS/1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0
                      http://maven.apache.org/xsd/settings-1.0.0.xsd">

	<localRepository>C:\mr</localRepository>

	<activeProfiles>

		<!-- stage profile ('dev' or 'prod') -->
		<activeProfile>dev</activeProfile>

		<!-- dao impl profile ('jdo' or 'db4o') -->
		<activeProfile>jdo</activeProfile>

		<!-- security profile ('acegi' or 'nosecurity') -->
		<activeProfile>nosecurity</activeProfile>

	</activeProfiles>

</settings>
}}}

  * Checkout tll project:
 {{{
svn checkout http://tll.googlecode.com/svn/trunk/ {TLL_ROOT}
}}}

  * Install non-standard tll dependencies to your local maven repo by invoking the following commands from a shell window:
 {{{

rem for jdo dao impl
install-datanucleus

rem for db4o dao impl
install-db4o
install-springex-db4o

rem needed for tll client projects
install-gwt-log

rem needed for tll client projects only if GWT is built from source
rem otherwise maven should handle it.
install-gwt
}}}

  * Install the tll modules into the local maven repository by invoking the following maven command from the tll root directory:
 {{{
mvn install
}}}

----
=eclipse=
The following steps cover the necessary [http://www.eclipse.org/ eclipse] IDE workspace settings.

==bootstrap==
Specify the -vm option in the eclipse.ini or at the command line (This is necessary for the m2eclipse plugin):
 {{{
-vm {JAVA_HOME}/bin/javaw.exe
}}}

==Add Ons==
|| *Name* || *URL* || *Notes* ||
|| subclipse || [http://subclipse.tigris.org/update_1.6.x http://subclipse.tigris.org/update_1.6.x] || ||
|| m2eclipse || [http://m2eclipse.sonatype.org/update/ http://m2eclipse.sonatype.org/update/] || ||
|| TestNG || [http://beust.com/eclipse http://beust.com/eclipse] || ||
|| Groovy || [http://dist.groovy.codehaus.org/distributions/updateDev/ http://dist.groovy.codehaus.org/distributions/updateDev/] || ||
|| FindBugs || [http://findbugs.cs.umd.edu/eclipse/ http://findbugs.cs.umd.edu/eclipse/] || ||
|| google eclipse plugin || http://dl.google.com/eclipse/plugin/3.5 || ||

==Preferences==
Import the tll eclipse preferences files.  These files are located under:  [http://tll.googlecode.com/svn/eclipse eclipse].

==Misc==

===smbiz===
To quickly update only the lib dependencies for GWT host mode, do:
 {{{ mvn dependency:copy-dependencies -DoutputDirectory=target/war/WEB-INF/lib }}}
from the smbiz root dir.