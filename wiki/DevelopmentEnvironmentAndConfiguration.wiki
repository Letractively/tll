#labels Phase-Requirements
Lists the necessary local environment and IDE settings for building and deploying _tll_ projects.

=Required Software=
|| [http://java.sun.com/javase/downloads/index.jsp jdk] || 1.6.0_05+ ||
|| [http://groovy.codehaus.org/ groovy] || 1.5.6+ ||
|| [http://ant.apache.org/ ant] || 1.7.0+ ||
|| [http://gant.codehaus.org/ gant] || 1.2.0+ ||
|| [http://subversion.tigris.org/ subversion client] || 1.4.6+ (v1.5rc5 available at [http://merge-tracking.open.collab.net/servlets/ProjectProcess?pageID=3711 Collabnet])||
|| [http://www.eclipse.org/ eclipse] || 3.3.2+||
|| [http://code.google.com/p/google-web-toolkit/ GWT] || r2824+ ||
|| [http://code.google.com/p/google-web-toolkit/ AspectJ] || 1.5.4+ ||

=environment=
  * The following environment variables are required:
|| JAVA_HOME || Points to the root Java install dir. ||
|| GROOVY_HOME || Points to the root groovy install dir. ||
|| ANT_HOME || Points to the root ant install dir. ||
|| GWT_HOME || Points to the root GWT _install_ dir. (Used for building GWT from source.) ||
|| GWT_TOOLS || Points to the root GWT Tools dir. (Used for building GWT from source.)||
|| tll.config.machine.name || The tll configuration system property machine name. ||
|| tll.config.user.name || The tll configuration system property user name. ||

  * Append the *Path* environment variable to include:
|| <JAVA_HOME>/bin ||
|| <GROOVY_HOME>/bin ||
|| <ANT_HOME>/bin ||
|| {subversion install dir}/bin ||

  * Build the tll-config.jar:
{{{
<TLL_ROOT>/config/gant dist
}}}
 This will create the tll-config.jar and place it in the <TLL_ROOT>/config/dist dir.

  * Copy the following libs to the {{{{user.home}/.groovy/lib/}}} dir:
|| <TLL_ROOT>/tools/commons-lang.jar ||
|| <TLL_ROOT>/tools/commons-logging.jar ||
|| <TLL_ROOT>/tools/commons-collections.jar ||
|| <TLL_ROOT>/tools/commons-configuration.jar ||
|| <TLL_ROOT>/config/dist/tll-config.jar ||
|| {AspectJ install dir}/bin/aspectjtools.jar ||

 These copied jars will now be automatically loaded in all subsequent groovy invocations.  This enables {{{com.tll.config.Config}}} instances to be declared in a gant context which is required for all tll projects except for the config project itself.

  * Add the following to the <GROOVY_HOME>/conf/groovy-starter.conf file:
{{{
    # for tll projects
    load ./config
}}}

 This adds the stated path to groovy's CLASSPATH before invoking gant. We are leveraging the fact that a config dir exists for all tll project root dirs containing the project configuration files.

=eclipse=
The following steps cover the necessary [http://www.eclipse.org/ eclipse] IDE workspace settings.

==Classpath Variables==
The following _Preferences -> Java -> Build Path -> *Classpath Variables*_ are required:
|| LIBS || Root dir containing the 3rd party libraries referenced by the tll/tools project.||
|| TLL_ROOT || Points to the root dir of the _tll_ source tree. ||
|| GWT_HOME || Points to the root instal dir of the Google Web Toolkit. ||
|| GWT_INCUBATOR_ROOT || Points to the source root dir of the GWT Incubator project. ||

==String Substitution==
The following _Preferences -> Run/Debug -> *String Substitutions*_ are required:
|| aspectj_home || Points to the root install dir of AspectJ. ||
|| gwt_host_webroot || <TLL_ROOT>/smbiz/smbiz-client/tomcat/webapps/ROOT ||

==Add Ons==
|| subversive || [http://download.eclipse.org/technology/subversive/0.7/update-site/ http://download.eclipse.org/technology/subversive/0.7/update-site/] ||
|| TestNG || [http://beust.com/eclipse http://beust.com/eclipse] ||
 
=smbiz project configuration=
In the <TLL_ROOT>/smbiz/config dir, create the necessary config override file with the following name:

{{{ {tll.config.machine.name}.{tll.config.user.name}.config.properties }}}

This file must declare all properties contained in <TLL_ROOT>/smbiz/config/config.properties whose value is "UNSPECIFIED".

Example:
{{{
environment dev
debug true

mail.host.primary mail.domain.com
mail.dflt_user_email testemail@domain.com
}}}