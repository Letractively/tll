#labels Featured,Phase-Requirements
Lists the necessary local environment and IDE settings for building and deploying _tll_ projects.

=Required Software=
The following software is required:
|| *Name* || *Version* ||
|| [http://java.sun.com/javase/downloads/index.jsp jdk] || 1.6.0_05+ ||
|| [http://www.eclipse.org/ eclipse] || 3.4.1+||
|| [http://groovy.codehaus.org/ groovy] || 1.5.7+ ||
|| [http://ant.apache.org/ ant] || 1.7.1+ ||
|| [http://gant.codehaus.org/ gant] || 1.5.0+ ||
|| [http://subversion.tigris.org/ subversion client] || 1.5.4+ ||
|| [http://www.eclipse.org/aspectj/downloads.php AspectJ] || 1.6.3+ ||
|| [http://code.google.com/p/google-web-toolkit/ GWT] || 1.5.3+ ||
|| [http://tomcat.apache.org/ Tomcat] || 6.0.18+ ||

=environment=
  * Ensure the following environment variables exist:
|| *Name* || *Description* ||
|| JAVA_HOME || Points to the root Java install dir. ||
|| ASPECTJ_HOME || Points to the root AspectJ install dir. ||
|| GROOVY_HOME || Points to the root groovy install dir. ||
|| ANT_HOME || Points to the root Ant install dir. ||
|| GANT_HOME || Points to the root Gant install dir. ||
|| SUBVERSION_HOME || Points to the root Subversion Client install dir. ||
|| GWT_HOME || Points to the root GWT _install_ dir. (Used for building GWT from source.) ||
|| GWT_TOOLS || Points to the root GWT Tools dir. (Used for building GWT from source.)||
|| TLL_ROOT || The root dir of the local working copy of the tll source tree ('http://tll.googlecode.com/svn/trunk'). ||
|| TLL_TOOLS || Points to the local working copy dir of tll tools root dir ('http://tll.googlecode.com/svn/tools'). ||
|| tll.config.machine.name || The tll configuration system property machine name. ||
|| tll.config.user.name || The tll configuration system property user name. ||

  * Add the following paths to the system path:
 {{{
{JAVA_HOME}/bin
{ASPECTJ_HOME/bin
{GROOVY_HOME}/bin
{ANT_HOME}/bin
{SUBVERSION_HOME}
}}}

  * Append these global ignores to the installed SVN config file:
 {{{
global-ignores = build classes dist Desktop.ini *.log local.properties *.tmp .gwt-cache test-output tomcat Constants.properties local.config.properties
}}}

  * Establish local working copies of the root tll project dir and tll tools dir:
 {{{
svn checkout http://tll.googlecode.com/svn/trunk/ {TLL_ROOT}
svn checkout http://tll.googlecode.com/svn/tools/ {TLL_TOOLS}
}}}

  * Add the following to the {{{{GANT_HOME}/conf/gant-starter.conf}}} file:
 {{{
    # for tll projects
    load ./config
}}}

 This adds the stated path to gant's CLASSPATH. We are leveraging the fact that a config dir exists for all tll project root dirs containing the project configuration files.

  * Build the tll libraries by invoking {{{gant dist}}} from a command line in the following in the listed order:
 {{{
{TLL_ROOT}/config/
{TLL_ROOT}/util/
{TLL_ROOT}/mail/
}}}

  * Copy the following libs to the {{{{user.home}/.groovy/lib/}}} dir:
 {{{
{TLL_ROOT}/tools/lib/commons-lang.jar
{TLL_ROOT}/tools/lib/commons-logging.jar
{TLL_ROOT}/tools/lib/commons-collections.jar
{TLL_ROOT}/tools/lib/commons-configuration.jar
{TLL_ROOT}/config/dist/tll-config.jar
{ASPECTJ_HOME}/bin/aspectjtools.jar
}}}

 These copied jars will now be automatically loaded in all subsequent groovy invocations.  This enables {{{com.tll.config.Config}}} instances to be declared in a gant context which is required for all tll projects except for the config project itself.

----
=eclipse=
The following steps cover the necessary [http://www.eclipse.org/ eclipse] IDE workspace settings.

==Classpath Variables==
The following _Preferences -> Java -> Build Path -> *Classpath Variables*_ are required:
|| TLL_TOOLS || Replica of the environment variable defined above. ||
|| TLL_ROOT || Replica of the environment variable defined above. ||
|| GWT_HOME || Points to the root install dir of the Google Web Toolkit. ||
|| GWT_INCUBATOR_HOME || Points to the root install dir of the Google Web Toolkit. ||

==String Substitution==
The following _Preferences -> Run/Debug -> *String Substitutions*_ are required:
|| aspectj_home || Points to the root install dir of AspectJ. ||
|| gwt_host_webroot || {TLL_ROOT}/smbiz/smbiz-client/tomcat/webapps/ROOT ||

==Add Ons==
|| subversive || [http://download.eclipse.org/technology/subversive/0.7/update-site/ http://download.eclipse.org/technology/subversive/0.7/update-site/] ||
|| subversive connectors || [http://www.polarion.org/projects/subversive/download/integrations/update-site/ http://www.polarion.org/projects/subversive/download/integrations/update-site/] ||
|| subversive connectors 2 || [http://www.polarion.org/projects/subversive/download/eclipse/2.0/update-site/ http://www.polarion.org/projects/subversive/download/eclipse/2.0/update-site/] ||
|| TestNG || [http://beust.com/eclipse http://beust.com/eclipse] ||

----
=smbiz project configuration=
  * In the {TLL_ROOT}/smbiz/config dir, create the necessary config override file with the following name:

 {{{
{tll.config.machine.name}.{tll.config.user.name}.config.properties
local.config.properties
}}}

 This file must declare all properties contained in {TLL_ROOT}/smbiz/config/config.properties whose value is "UNSPECIFIED".

 Example:
 {{{
environment dev
debug true

mail.host.primary mail.domain.com
mail.dflt_user_email testemail@domain.com
}}}