db.type mysql
db.name smbiztest
db.name.root mysql
db.urlprefix jdbc:mysql://localhost
db.url ${db.urlprefix}/${db.name}
db.username root
db.password root

db.resource.schema db/db-schema.ddl
db.resource.stub db/db-data-stub.sql
db.resource.delete db/db-data-delete.sql

db.transaction.timeout 240
db.transaction.bindToSpringAtTransactional true

# jdo
javax.jdo.PersistenceManagerFactoryClass org.datanucleus.jdo.JDOPersistenceManagerFactory
javax.jdo.option.ConnectionDriverName com.mysql.jdbc.Driver
javax.jdo.option.ConnectionURL ${db.url}
javax.jdo.option.ConnectionUserName ${db.username}
javax.jdo.option.ConnectionPassword ${db.password}

javax.jdo.option.CopyOnAttach false
javax.jdo.option.DetachAllOnCommit true

datanucleus.autoCreateColumns false
# TEMP
#datanucleus.autoCreateColumns true

# caching (level2)
#datanucleus.cache.level2.type none
datanucleus.cache.level2.type ehcache
datanucleus.cache.level2.cacheName jdol2cache
datanucleus.cache.level2.configurationFile /ehcache-smbiz-persist.xml

# CRITICAL for proper operation!!!
datanucleus.Optimistic true

datanucleus.connectionPoolingType C3P0

# jdo rdbms
javax.jdo.option.Mapping ${db.type}

# jdo schema validation
datanucleus.validateTables true
datanucleus.validateColumns true
datanucleus.validateConstraints true 
